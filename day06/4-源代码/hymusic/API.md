# 黑云音乐后台 API 接口文档

## API V1 接口说明

- 接口基准地址：http://www.dongh5.com:9000/、http://huangjiangjun.top:9000/
- 服务端已开启 CORS 跨域支持
- 数据返回格式统一使用 JSON

### 支持的请求方法

- GET（SELECT）：从服务器取出资源（一项或多项）。
- POST（CREATE）：在服务器新建一个资源。
- PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。
- DELETE（DELETE）：从服务器删除资源。
- OPTIONS：获取信息，关于资源的哪些属性是客户端可以改变的。

## 发现音乐

#### 轮播图

- 请求路径：banner

- 请求方法：GET

- 请求参数

  无

- 响应参数

| 参数名  | 参数说明   | 备注                   |
| ------- | ---------- | ---------------------- |
| code    | 响应状态码 | 200: 成功              |
| banners | 轮播图数据 | 服务器返回的轮播图数据 |

- 响应数据

```javascript
{
    code: 200,
   	banners: [
        {
			imageUrl: "http://p1.music.126.net/hPvLl_0WY09VRJVkM_X9bQ==/109951165379985796.jpg"
        },
        {
			imageUrl: "http://p1.music.126.net/apedXOTE8RJUPDKiPTqtgA==/109951165380957078.jpg"
        }
    ]
}
```

#### 推荐歌单

- 请求路径：personalized?limit=10
- 请求方法：GET
- 请求参数

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| limit  | 条数     | 不能为空 |

- 响应参数

| 参数名 | 参数说明         | 备注             |
| ------ | ---------------- | ---------------- |
| code   | 响应状态码       | 200: 成功        |
| result | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
    result: [
		{
            id: 2409342460,
            name: "[一周新歌推荐] 马頔温柔改编告五人《披星戴月的想你》",
            copywriter: "编辑推荐：想你就是去想你，不管你对我的态度",
            picUrl: "https://p2.music.126.net/R0s2tQ2Qp0_f5Bc4AH_Scw==/109951165379701010.jpg"
        }
    ]
}
```

#### 最新音乐

- 请求路径：personalized/newsong

- 请求方法：GET

- 请求参数

  无

- 响应参数

| 参数名 | 参数说明         | 备注             |
| ------ | ---------------- | ---------------- |
| code   | 响应状态码       | 200: 成功        |
| result | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
    result: [
		{
            id: 1485661414,
			name: "广寒光",
            picUrl: "http://p1.music.126.net/iCMnn0-faQzf8Bb3D4Hayg==/109951165377485766.jpg",
            song: {
                artists: [
                    {
                        name: "徐良"
                    }
                ]
            }
        }
    ]
}
```

#### 推荐MV

- 请求路径：personalized/mv

- 请求方法：GET

- 请求参数

  无

- 响应参数

| 参数名 | 参数说明         | 备注             |
| ------ | ---------------- | ---------------- |
| code   | 响应状态码       | 200: 成功        |
| result | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
    result: [
		{
            id: 10960679,
            name: "SNH48一期生“一期一会”纪念演唱会",
            picUrl: "https://p1.music.126.net/G8-8Pfemg4QHk6rxfufoSw==/109951165379778458.jpg",
            playCount: 21475,
            artists: [
                {
                    id: 35531
					name: "Justin Bieber"
                }
            ]
        }
    ]
}
```

## 推荐歌单

#### 封面图

- 请求路径：top/playlist/highquality?limit=1

- 请求方法：GET

- 请求参数

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| limit  | 条数     | 不能为空 |


- 响应参数

| 参数名    | 参数说明         | 备注             |
| --------- | ---------------- | ---------------- |
| code      | 响应状态码       | 200: 成功        |
| playlists | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
    playlists: [
		{
			name: "电影中的钢琴曲｜最会讲故事²",
            id: 156659312,
            coverImgUrl: "http://p4.music.126.net/IZaKdskHvigujL5GZW-QtQ==/1377688069888740.jpg",
            description: "一部电影，深深爱上一首曲子。 一段旋律，久久难忘一部电影。 . 钢琴用那88颗琴键，在光影中讲诉着一个个动情的故事。是《钢琴师》中战争的残酷和人性的悲歌；是《返老还童》里见证所爱之人离去，才知道他对你有多重要；又或是《恋恋笔记本》里铭记一生的温莎种植园和难以割舍的初恋。岁月里终有过往，光影中总有难忘。一首电影中的钢琴曲，虽无法解了你的心结，却也可以向你讲述一个故事，陪你一同怀念。 . 歌单封面：选自电影《钢琴师》。所选电影来自欧美电影，中日韩电影篇在另一个同名歌单。 . 选曲电影，按歌单顺序排列。 1. 《忠犬八公的故事》 2. 《触不可及》 3. 《恋恋笔记本》 4. 《海上钢琴师》 5. 《倾国之恋》 6. 《天堂电影院》 7. 《云图》 8. 《爱在午夜来临前》 9. 《时间恋旅人》 10. 《返老还童》 11. 《钢琴课》 12. 《钢琴师》 13. 《阿甘正传》 14. 《辛德勒名单》 15. 《傲慢与偏见》 16. 《楚门的世界》 17. 《寻找梦幻岛》 18. 《伦敦一家人》 19. 《僵尸新娘》 20. 《两生花》 21. 《大地惊雷》 22. 《时时刻刻》 23. 《蝴蝶》 24. 《她》 25. 《爱情故事》 26. 《布达佩斯之恋》 27. 《艺术家》 28. 《无姓之人》 29. 《天使爱美丽》 30. 《永恒和一天》 31. 《时光倒流七十年》 32. 《红酒烩鸡》 33. 《蓝色茉莉》 34. 《在世界转角遇到爱》 35. 《飞屋环球记》 36. 《中央车站》 37. 《午夜巴黎》 38. 《万物理论》 39. 《模仿游戏》 40. 《朗读者》 41. 《英国病人》 42. 《走出非洲》 43. 《四分钟》 44. 《闪亮的光彩》 45. 《面纱》 46. 《珍爱泉源》 47. 《爱》 48. 《布拉格之恋》 49. 《芳芳》 50. 《故园风雨情》 51. 《绿皮书》 52. 《咖啡公社》 53. 《八月迷情》 54. 《断线》 55. 《遮蔽的天空》 56. 《婚姻故事》 57. 《水形物语》 58. 《国王的演讲》 59. 《请以你的名字呼唤我》 60. 《爱乐之城》 61. 《坂本龙一：终曲》/《Merry Christmas Mr. Lawrence》 ================"
        }
    ]
}
```

#### 歌单列表

- 请求路径：top/playlist

- 请求方法：GET

- 请求参数

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| offset | 起始条数 | 不能为空 |
| limit  | 条数     | 不能为空 |
| cat    | 类别     | 不能为空 |


- 响应参数

| 参数名    | 参数说明         | 备注             |
| --------- | ---------------- | ---------------- |
| code      | 响应状态码       | 200: 成功        |
| playlists | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
    playlists: [
		{
			id: 780210536,
            playCount: 9431,
            coverImgUrl: "http://p3.music.126.net/2y0Xxnl5_KFal8Vp-Vxwtg==/109951165368620529.jpg",
            description: "秋天真的超棒 吃着糖炒栗子和烤红薯 捧着热乎乎的奶茶 带着刚出炉的蛋挞跑向喜欢的人"
        }
    ]
}
```

## 歌单详情

#### 获取歌单详情

- 请求路径：playlist/detail?id=5272449993

- 请求方法：GET

- 请求参数

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| id     | 歌单id   | 不能为空 |


- 响应参数

| 参数名   | 参数说明         | 备注             |
| -------- | ---------------- | ---------------- |
| code     | 响应状态码       | 200: 成功        |
| playlist | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
    playlist: {
            id: 5272449993,
            coverImgUrl: "http://p2.music.126.net/2y0Xxnl5_KFal8Vp-Vxwtg==/109951165368620529.jpg",
            name: "秋天来了，要一起踩枫叶吗？",
            creator: {
                avatarUrl: "http://p1.music.126.net/0GjtFj_kVtEaGymIlfRHlA==/109951165381393794.jpg",
                nickname: "苏奕杰",
            },
            createTime: 1601800426526,
            tags: [
               "华语",
               "流行",
               "散步"
            ],
            description: "秋天真的超棒 吃着糖炒栗子和烤红薯 捧着热乎乎的奶茶 带着刚出炉的蛋挞跑向喜欢的人 那可真是太甜了 一起谈个恋爱好吗？",
            tracks: [
                {
                    id: 1483477834,
                    name: "突然发生的爱情故事",
                    al: {
                        picUrl: "http://p4.music.126.net/uUyBshPOlzYUs4aIn-S3Nw==/109951165353948915.jpg",
                        name: "突然发生的爱情故事"
                    },
                    ar: [
                        {
                            name: "汪苏泷"
                        }
                    ],
                    dt: 272785
                }
            ]
      }
}
```

## 最新音乐

### 获取最新音乐

- 请求路径：top/song?type=0

- 请求方法：GET

- 请求参数

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| type   | 类别     | 不能为空 |


- 响应参数

| 参数名 | 参数说明         | 备注             |
| ------ | ---------------- | ---------------- |
| code   | 响应状态码       | 200: 成功        |
| data   | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
    data: [
        {
            id: 1485661414,
            mvid: 0,
            name: "广寒光",
            album: {
                picUrl: "http://p3.music.126.net/iCMnn0-faQzf8Bb3D4Hayg==/109951165377485766.jpg",
                name: "广寒光"
            },
            artists: [
                {
                    name: "徐良"
                }
            ],
            duration: 273754
        }
    ]
}
```

## 最新MV

#### 获取最新MV

- 请求路径：mv/all

- 请求方法：GET

- 请求参数

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| offset | 起始条数 | 不能为空 |
| limit  | 条数     | 不能为空 |
| area   | 区域     | 不能为空 |
| type   | 类型     | 不能为空 |
| order  | 排序     | 不能为空 |


- 响应参数

| 参数名 | 参数说明         | 备注             |
| ------ | ---------------- | ---------------- |
| code   | 响应状态码       | 200: 成功        |
| data   | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
    data: [
        {
            id: 5902152,
            cover: "http://p1.music.126.net/nDYW2h180Q6wO_4ryazpwg==/109951163278760617.jpg",
            name: "Nature (自然）",
            playCount: 28974
        }
    ]
}
```

## MV详情

#### 获取MV播放地址

- 请求路径：mv/url?id=10929636
- 请求方法：GET
- 请求参数：

| 参数名      | 参数说明 | 备注             |
| ----------- | -------- | ---------------- |
| id          | mv的id   | 不能为空         |

- 响应参数

| 参数名 | 参数说明         | 备注             |
| ------ | ---------------- | ---------------- |
| code   | 响应状态码       | 200: 成功        |
| data   | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
	data: {
        id: 10929636,
        url: "http://vodkgeyttp8.vod.126.net/cloudmusic/obj/core/2246886748/8da6151a1ce88844be0f348472bfd88c.mp4?wsSecret=a8c4af052962ce5abfddb933eb4c8050&wsTime=1602337363" 
	}
}
```

#### 获取MV详情

- 请求路径：mv/detail?mvid=10929636
- 请求方法：GET
- 请求参数：

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| mvid   | mv的id   | 不能为空 |

- 响应参数

| 参数名 | 参数说明         | 备注             |
| ------ | ---------------- | ---------------- |
| code   | 响应状态码       | 200: 成功        |
| data   | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
	data: {
        id: 10929636,
        name: "LILI's FILM #3 - LISA Dance Performance Video",
        publishTime: "2020-04-20",
        desc: "",
        playCount: 585711
	}
}
```

#### 获取艺术家信息

- 请求路径：artists?id=13934039
- 请求方法：GET
- 请求参数：

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| id     | 艺术家id | 不能为空 |

- 响应参数

| 参数名 | 参数说明         | 备注             |
| ------ | ---------------- | ---------------- |
| code   | 响应状态码       | 200: 成功        |
| artist | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
	artist: {
        id: 12062254,
        name: "LISA",
        picUrl: "https://p1.music.126.net/yhvqUgNUy-QNy3mQTgvKqA==/18745573743911262.jpg"
	}
}
```
#### 相关MV列表

- 请求路径：simi/mv?mvid=10929636
- 请求方法：GET
- 请求参数：

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| mvid   | mv的id   | 不能为空 |

- 响应参数

| 参数名 | 参数说明         | 备注             |
| ------ | ---------------- | ---------------- |
| code   | 响应状态码       | 200: 成功        |
| mvs    | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
	mvs: [{
       	id: 5404578,
        cover: "http://p3.music.126.net/GRRlwWWU-LjWRvq7WPjtLg==/18537766045977181.jpg",
        name: "Street Dance 24K MagicSBS歌谣大战 16/12/26 现场版",
        playCount: 828145,
        artistName: "LISA",
        duration: 97000
	}]
}
```

## 音乐播放

#### 获取音乐播放地址

- 请求路径：song/url?id=1485661414
- 请求方法：GET
- 请求参数：

| 参数名 | 参数说明 | 备注     |
| ------ | -------- | -------- |
| id     | 音乐的id | 不能为空 |

- 响应参数

| 参数名 | 参数说明         | 备注             |
| ------ | ---------------- | ---------------- |
| code   | 响应状态码       | 200: 成功        |
| data   | 服务器返回的数据 | 服务器返回的数据 |

- 响应数据

```javascript
{
    code: 200,
	data: [{
        id: 1485661414,
		url: "http://m801.music.126.net/20201010231345/b22fc8e7cde4c2ef575c75e0a1ff7e14/jdymusic/obj/wo3DlMOGwrbDjj7DisKw/4334125381/0f44/79e8/6688/9d1e308b3ad55f8012d74b108c42cabf.mp3"
	}]
}
```

